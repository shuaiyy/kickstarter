
<h1>Java网络编程之IP地址和InetAddress类</h1>
<div id="art-body">Java语言的优势之一是Java程序能访问网络资源。Java提供一系列的类支持Java程序访问网络资源。
<h2>
TCP/IP协议和IP地址</h2>
为了进行网络通信,通信双方必须遵守通信协议.目前最广泛使用的是TCP/IP协议,它是Internet中各方所遵循的公共协议.TCP(Transport Control Protocol)是一种传输控制协议,IP(Internet Protocol)是一种网际协议，TCP/IP代表这两个协议的。<br>
<br>
TCP/IP分为四个层次：
<ul>
<li>
网络接口层：负责接收和发送物理帧；</li>
<li>
网络层：负责相邻节点之间的通信；</li>
<li>
传输层：负责起点到终点的通信；</li>
<li>
应用层：提供诸如文件传输、电子邮件等应用程序。</li>
</ul>
<br>
TCP协议将任何网络信息传输当作信息流。例如，机器A上的一个长报文发送到机器B，发送端A需要将数据分片，把一片片数据分别打包发送。数据包有一个头，指明该数据包发往何处、凶中数据在接收序列中所处的位置。每个包都按照IP地址提供的目的地从一个台机器传送到另一台机器，或从一个网络节点传送到另一个网络节点。在接收端B，这些数据包都能够按照正确的顺序重新组装起来。<br>
<br>
TCP/IP协议是一个协议族，由一组协议组成，主要包含以下更具体的协议：
<ul>
<li>
Telnet（远程登录）：允许一台计算机用户登录到另一台远程计算机上，使远程操作如同在本地计算机上操作一样。</li>
<li>
FTP（File Transfer protocol，文件传输协议）：允许用户将远程主机上的文件复制到自己的计算机上。</li>
<li>
SMTP（simple Mail Transfer Protocol，简单邮件传输协议）：用于传输电子邮件。</li>
<li>
NFS（Network file Server，网络文件服务器）：使多台计算机透明地访问彼此的目录。</li>
<li>
HTTP：一种超文本传输协议，它是基于TCP/IP协议的，是WWW浏览器和服务器之间应用层的通信协议。<span style="color:#b22222;">HTTP是一种通用、无状态、面向对象的协议。HTTP会话（事务）包括四个步骤：连接（Connection）、请求（Request）、应答（Response）和关闭（Close）。</span></li>
</ul>
<br>
Java语言可编写低层的网络应用。例如，传输文件，建立邮件控制器，处理网络数据等。Java语言支持的Internet协议有ftp、telnet、www等，支持网络通信的软件都在java.net包中，例如，java.net.ftp、java.net.www等。<br>
<br>
IP地址用于指明因特网上的一台计算机在网络中的地址，用32位二进制代码表示一个网络地址。地址分A、B、C、D、E五类，常用的是A、B、C三类：
<ul>
<li>
A（1.0.0.0-126.255.255.255）：0,7位网络号，后24位为主机号；</li>
<li>
B（128.0.0.0-191.255.255.255）：10,14位网络号,后16位为主机号；</li>
<li>
C（192.0.0.0-223.255.255.255）：110,21位网络号,后8位为主机号；</li>
<li>
D（224.0.0.0-239.255.255.255）：1110,28位多点广播组标号；</li>
<li>
E（240.0.0.0-254.255.255.255）：1111,保留试验使用。</li>
</ul>
<br>
通常，IP地址用四段十进制数表示（8位一段）。例如：<br>
    116.255.226.187<br>
或用文字域名表示。例如：<br>
    www.weixueyuan.net<br>
在因特网上，域名服务器（Domain Name Server,DNS）执行文字名称到二进制网络地址的映射。
<h2>
InetAddress类</h2>
Java.net包中有InetAddress类的定义，<span style="color:#b22222;">InetAddress类的对象用于IP地址和域名，</span>该类提供以下方法：
<ul>
<li>
getByName(String s)：获得一个InetAddress 类的对象，该对象中含有主机的IP地址和域名，该对象用如下格式表示它包含的信息：www.sina.com.cn/202.108.37.40；</li>
<li>
String getHostName()：获取InetAddress对象的域名；</li>
<li>
String getHostAddress()：获取InetAddress对象的IP地址；</li>
<li>
getLocalHost()：获得一个InetAddress对象，该对象含有本地机的域名和IP地址。</li>
</ul>
<br>
【例 13-1】 说明Inetaddress类的用法的应用程序。程序演示如何获取www.weixueyuan.net的域名和IP地址。<br>
Import java.net.*;<br>
Class Example10_1{<br>
    Public static void main(String args[]){<br>
        Try{ //以下代码通过域名建立InetAddress对象：<br>
            InetAddress addr = InetAddress.getByname(“www.weixueyuan.net”);<br>
            String domainName = addr.getHostName();//获得主机名<br>
            String IPName = addr.getHostAddress();//获得IP地址<br>
            System.out.println(domainName);<br>
            System.out.println(IPName);<br>
        }catch(UnknownHostException e){<br>
            e.printStackTrace();<br>
        }<br>
    }<br>
}<br>
<br>
运行结果为：<br>
www.weixueyuan.net<br>
116.255.226.187</div>

http://www.weixueyuan.net/view/6078.html
<h1>Java网络编程之统一资源定位符URL</h1>
<div id="art-body"><span style="color:#b22222;">统一资源定位符URL(Uniform Resource Locator)是www客户机访问Internet时用来标识资源的名字和地址。</span>超文本链路由统一资源定位符URL维持。URL的格式是：<br>
    &lt;METHOD&gt;://&lt;HOSTNAME:PORT&gt;/&lt;PATH&gt;/&lt;FILE&gt;<br>
其中：Method是传输协议：HOSTNAME是文档和服务器所在的Internet主机名（域名系统中DNS中的点地址）;PORT是服务端口号（可省略）；PATH是路径名，FILE是文件名。例如：<br>
    http://www.weixueyuan.net/(http是协议名，www.weixueyuan.net是主机名)<br>
    http://www.weixueyuan.net/view/6079.html (www.weixueyuan.net是主机名，view/6079.html是文件路径和文件名)
<h2>
URL类</h2>
Java.net包有URL类，一个URL对象可以表示一个网络资源。程序利用URL对象能实现Internet寻址、网络资源的定位连接、在客户机与服务器之间直接访问等。URL类的构造方法是<br>
    URL(String s)<br>
其中，s指出网络中的一个资源。<br>
<br>
利用URL对象访问网上资源的方法是：先创建URL对象，如以下代码所示：<br>
URL myURL;<br>
try {<br>
    myURL = new URL(“http://www.weixueyuan.net:80/”);<br>
}catch(MalformedURLException e){<br>
    System.out.println(“有错的URL:”+url+e);<br>
}<br>
因创建URL对象可能会产生MalformedURLException异常。所以，创建URL对象的代码应出现在try…catch语句块中，以便能捕捉网址错误异常。
<h2>
URLConnection类</h2>
要接收和发关信息还要用URLConnection类，程序获得一个URLConnection对象，相当于完成对指定URL的一个HTTP连接。以下是示意获得URLConnection对象的代码。<br>
    URL mu = new URL(“http://www.sun.com/”);//先要创建一个URL对象<br>
    URLConnection muC = mu.openConnection();//获得URLConnection对象<br>
<span style="color:#b22222;">上述代码说明，先要创建一个URL对象，然后利用URL对象的openConnection()方法，从系统获得一个URLConnection对象。程序有了URLConnection对象后，就可使用URLConnection类提供的以下方法获得流对象和实现网络连接：</span>
<ol>
<li>
getOutputStream()：获得向远程主机发送信息的OutputStream流对象；</li>
<li>
getInputStream()：获得从远程主机获取信息的InputStream流对象。有了网络连接的输入和输出流，程序就可实现远程通信；</li>
<li>
connect()：设置网络连接。</li>
</ol>
<h2>
信息的发送和接收</h2>
发送和接收信息要获得流对象，并由流对象创建输入或输出数据流对象。然后，就可以用流的方法访问网上资源。<br>
<br>
参见【例 13-2】程序中的方法readByURL()，该方法说明已知网址读取网页内容的过程。方法利用网址参数创建一个URL对象url，接着利用对象url的openConnect()方法，获得URLConnection对象tc，用对象tc的connect()方法建立网络连接，接着获得网络连接的InputStreamReader类对象in，将对象in，转化成为BufferedRead对象dis，改为缓冲式输入。最后，用对象dis的readLine()方法完成读取网络文本数据。<br>
<br>
如同本地数据流一样，网上资源使用结束后，数据流也应及时关闭。例如，代码<br>
    dis.close();<br>
关闭先前代码建立的流dis。<br>
<br>
【例 13-2】以数据流方法读取网页内容的应用程序。程序运行时，网址从文本框中读取（<a href="http://www.weixueyuan.net/uploads/code/java/rumen/13-2.txt" target="_blank">查看源文件</a>）。<br>
</div>

http://www.weixueyuan.net/view/6079.html
<h1>Java 套接字(Socket)</h1>
<div id="art-body">网络应用模式主要有：
<ul>
<li>
主机/终端模式：集中计算，集中管理；</li>
<li>
客户机/服务器（Client/Server,简称C/S）模式：分布计算，分布管理；</li>
<li>
浏览器/服务器模式：利用Internet跨平台。</li>
</ul>
<br>
www（万维网）就是建立在客户机/服务器模式上，以HTML语言和HTTP协议为基础，能够提供各种Internet服务的信息浏览系统。网络信息放在主机的不同位置，www服务器利用超文本链路链接各项信息。www客户机（浏览器Brower）负责与服务器建立联系，向服务器发送请求，处理HTML超媒体，提供图形用户界面（GUI），显示信息等。<br>
<br>
在客户机/服务器工作模式中，在Server端，要准备接受多个Client端计算机的通信。为此，除用IP地址标识Internet上的计算机之外，另还引入端口号，用端口号标识正在Server端后台服务的线程。端口号与IP地址的组合称为网络套接字（socket）。<br>
<br>
Java语言在实现C/S模式中，套接字分为两类：
<ul>
<li>
在Server端，ServerSocket类支持底层的网络通信；</li>
<li>
在Client端，Socket类支持网络的底层通信。</li>
</ul>
Server机通过端口（总线I/O地址）提供面向Client机的服务；Server机在它的几个不同端口分别同时提供几种不同的服务。Client接入Server的某一端口，通过这个端口提请Server机为其服务。规定：端口号0~1023供系统专用。例如，HTTP协议在端口80，telnet协议在端口23。端口1024~65535供应用程序使用。<br>
<br>
当Client程序和Server程序需要通信时，可以用Socket类建立套接字连接。套接字连接可想象为一个电话呼叫：最初是Client程序建立呼叫，Server程序监听；呼叫完成后，任何一方都可以随时讲话。<br>
<br>
双方实现通信有流式socket和数据报式socket两种可选方式：
<ul>
<li>
流式socket是有连接的通信，即TCP(Transmission Control Protocol)：每次通信前建立连接，通信结束后断开连接。特点是可以保证传输的正确性、可靠性。</li>
<li>
数据报式socket是无连接的通信，即UDP(User Datagram Protocol)：将欲传输的数据分成 小包，直接上网发送。无需建立连接和拆除连接，速度快，但无可靠保证。</li>
</ul>
<br>
流式socket在Client程序和Server程序间建立通信的通道。每个socket可以进行读和写两种操作。对于任一端，与对方的通信会话过程是：<br>
建立socket连接，获得输入/输出流，读数据/写数据，通信完成后关闭socket（拆除连接）。流式Socket的通信过程见【例 13-1】。<br>
<br>
利用socket的构造方法，可以在客户端建立到服务器的套接字对象：<br>
    Socket(String host,int port)：host是服务器的IP地址，port是端口号，这些是预先约定的。<br>
例如，代码：<br>
    try{<br>
        Socket mySocket = new Socket(“http://www.weixueyuan.net” ,1860);<br>
    }catch(IOException e){}<br>
然后，用getInputStream()方法获得输入流，用这个输入流读取服务器放入“线路”的信息；用getOutputStream()方法获得输出流，用这个输出流将信息写入“线路”。<br>
<br>
利用ServerSocket的构造方法可以在服务器建立接受客户套接字的服务器套接字对象：<br>
    ServerSocket(int port)：指定端口号，创建一个ServerSocket对象。端口号port要与客户呼叫的端口号相同。为此，用以下形式代码：<br>
    try{<br>
        ServerSocket serverSocket = new ServerSocket(1860);<br>
    }catch(IOException e){}<br>
服务器端程序在指定的端口监听，当收到Client程序发出的服务请求时，创建一个套接字对象与该端口对应的Client程序通信。例如，执行上述建立服务器套接字对象的代码，确立了对象serverSocket后，就可能它使用accept()方法，得到Socket对象，接收Client程序来自套接字mySocket的信息。如以下代码所示：<br>
    try{<br>
        Socket sc = serverSocket.accept();//ac是一个Socket对象<br>
    }catch(IOException e){}<br>
要撤销服务，可以关闭Socket对象sc：<br>
    sc.close();<br>
<br>
【例 13-3】C/S模式中的Client端应用程序。这是一个Client端的流式Socket通信的简单实例，代码说明Client端程序的编写方法。例中，Client程序向服务器主机的端口4441提出请求，连接建立后完成对服务器的读写（<a href="http://www.weixueyuan.net/uploads/code/java/rumen/13-3.txt">查看源文件</a>）。<br>
<br>
【例 13-4】与例10.3 Client端应用程序对应的Server端应用程序。程序在4441端口监听，当检测到有客户机请求时，产生一个内为“客户，你好，我是服务器”的字符串输出到客户端（<a href="http://www.weixueyuan.net/uploads/code/java/rumen/13-4.txt">查看源文件</a>）。<br>
<br>
为了充分发挥计算机的平行工作能力，可以把套接字连接工作让一个线程完成。当客户端要请求服务器给予服务，或当服务器端接收到一个客户的服务请求，就启动一个专门完成信息通信的线程，在该线程中创建输入输出流，并完成客户端与服务器端的信息交流。<br>
<br>
【例 13-5】 将套接字连接工作置于线程的客户端小应用程序。界面在有一个发送信息按纽、一个文本框和一个文本区。客户端应用程序首先与服务器建立套接字连接。使用数据输入流in反复读取服务器放入线路里的信息，将收到的信息在文本区中显示。婐志取的信息是“结束”，则关闭套接字连接，并结束程序。用户也可在文本框输入信息，并按发送信息按钮，则客户端程序利用数据输出流out,将文本框中的内容发送给服务器（<a href="http://www.weixueyuan.net/uploads/code/java/rumen/13-5.txt">查看源文件</a>）。<br>
<br>
【例 13-6】对应例10.5客户端小应用程序的服务器端小应用程序。程序以端4441建立与客户端的套接字连接，服务器端收到客户端的申请后，以客户的套接字建立一个线程，并启动。如果没有客户申请，则继续监听客户的申请。线程按客户的套接字建立输入数据流in和输数据流out。线程利用in读取客户放入线路里的信息。如果接受的信息是“结束”，则服务器回复“结束”后关闭套接字连接；否则回复：“我是服务器你对我说“，以及服务器接收到的信息（<a href="http://www.weixueyuan.net/uploads/code/java/rumen/13-6.txt">查看源文件</a>）。<br>
</div>

http://www.weixueyuan.net/view/6080.html
<h1>Java程序与数据库连接</h1>
<div id="art-body">一个网络关系数据库应用系统是一个三层次结构。客户机与服务器采用网络连接，客户机端应用程序按通信协议与服务器端的数据库程序通信；数据库服务程序通过SQL命令与数据库管理系统通信。<br>
<br>
<span style="color:#b22222;">Java程序与数据库连接方法有两种。一种是使用JDBC-ODBC桥接器与数据库连接，一种是用纯Java的JDBC驱动程序实现与数据库连接。</span>
<h2>
使用JDBC-ODBC 桥接器与数据库连接</h2>
Java程序使用JDBC-ODBC 桥接器与数据库连接，Java程序与数据库通信的过程是：<br>
先由数据库应用程序向ODBC驱动管理器发出API调用，ODBC驱动管理器将这个调用转换成向数据库管理系统的ODBC驱动程序调用，数据库管理系统又将这个调用转换成对操作系统的数据输入/输出调用。最后，操作系统从数据库中得到实际数据逐级返回。<br>
<br>
数据库编程首先要设置数据源，在ODBC中设置数据源的步骤如下：
<ol>
<li>
打开Windows控制面板中的管理工具。对于windows XP：选择“性能维护”&gt;&gt;“管理工具”&gt;&gt;“数据源(ODBC)”； 对于windows 2000：选择“管理工具”&gt;&gt;“数据源”。</li>
<li>
打开“数据源”。出现ODBC数据源管理器对话框，显示现有的数据源名称。</li>
<li>
选择“用户DSN”，单击“添加”按钮，出现安装数据源驱动程序对话框。Access(*.mdb)数据源，单击“完成”按钮，出现“创建数据源对话框，键入需要创建的数据源名，并为创建的数据源选择一个数据库表。</li>
<li>
单击数据库区域的“选择”按钮，选择需要的数据库表。当需要为数据源授权访问级别时，单击“高级”按钮。设置登录名和密码后，单击“确定”按钮，完成Access数据库在ODBC管理器中的配置。</li>
<li>
如果还没有数据库表，则需创建一个数据库表。</li>
</ol>
<br>
数据源就是数据库，在设定了数据源的基础上，Java程序要访问数据库表，还要建立JDBC-ODBC桥接器，让程序与数据库连接。以后，程序就可向数据库发送SQL语句，处理数据库返回的结果。Java数据库连接JDBC(Java DataBase Connectivity)由一组用Java语言编写的类和接口组成，JDBC是Java程序与数据库连接API。它能做以下三件事情：与某个数据库建立连接、向数据库发送SQL语句和处理数据库返回的结果。<br>
<br>
调用类方法Class.forName(String s)能建立JDBC-ODBC桥接器。例如，代码：<br>
    try{<br>
        Class.forName(“sun.jdbc.odbc.JdbcOdbcDriver”);<br>
    }catch(Exception e){}<br>
为Java程序加载了驱动程序。<br>
【例 13-7】说明与数据库连接的方法connectByJdbcOdbc()，该方法按给定的数据库URL、用户名和密码连接数据库，如果连接成功，方法返回连接对象，连接不成功，则返回空（<a href="http://www.weixueyuan.net/uploads/code/java/rumen/13-7.txt" target="_blank">查看源文件</a>）。<br>
<h2>
用纯Java的JDBC驱动程序实现与数据库连接</h2>
Java程序也可以用纯Java的JDBC驱动程序实现与数据库连接。这种方法应用较广泛，但是需要下载相应的驱动程序包，因为不同的数据库的连接代码可能不同，连接不同的数据库，加载的驱动程序也可能不同。例如，连接SQLServer的驱动程序在www.msdn.com网站下载，有3个包：msbase.jar,mssqlserver.jar和msutil.jar，并要求将这3个包放在jdk\jre\lib\ext\目录下，或在CLASSPATH中设置其放置位置。<br>
<br>
使用纯Java的JDBC驱动程序实现与数据库连接的过程如下：
<ol>
<li>
加载驱动程序。有两种加载驱动程序的方式：
<ul>
<li>
一各是将驱动程序添加到java.lang.System的属性jdbc.drivers中。这是一个DriverManager类加载驱动程序类名的列表，表元用冒号分隔。</li>
<li>
另一种方式是从相关的网站下载驱动程序后，在程序中利用Class.forName()方法加载指定的驱动程序。例如：<br>
    Class.forName(“com.microsoft.jdbc.sqlserver.SQLServerDriver”);</li>
</ul>
</li>
<li>
创建指定数据库的URL。数据库的URL对象类似网络的统一资源定位符，其格式是：<br>
    jdbc:subProtocol:subName://hostname:port:Databasename=XXX<br>
其中，subprotocol是某种驱动程序支持的数据库连接机制； subName是当前连接机制下的具体名称；hostName是主机名；port是相应的连接端口；DatabaseName是要连接的数据库名称。例如，以下代码可以是一个数据库的URL：<br>
    jdbc:Microsoft:sqlserver://localhost:1433;Databasename=ksinfo<br>
该数据库的URL说明利用miscrosoft提供的机制，用sqlserve驱动，通过1433端口访问本机上的ksInfo数据库。</li>
<li>
建立连接。驱动程序管理器(DriverManager)的方法getConnection()建立连接。</li>
</ol>
<br>
【例 13-8】说明与数据库连接的静态方法connectByJdbc()，该方法按给定的数据库URL、用户名和密码连接数据库，如果连接成功，方法返回true，连接不成功，则返回false（<a href="http://www.weixueyuan.net/uploads/code/java/rumen/13-8.txt" target="_blank">查看源文件</a>）。<br>
</div>

http://www.weixueyuan.net/view/6081.html
<h1>几个重要的java数据库访问类和接口</h1>
<div id="art-body">编写访问数据库的Java程序还需要几个重要的类和接口。
<h2>
DriverManager类</h2>
DriverManager类处理驱动程序的加载和建立新数据库连接。DriverManager是java.sql包中用于管理数据库驱动程序的类。通常，应用程序只使用类DriverManager的getConnection()静态方法，用来建立与数据库的连接，返回Connection对象：<br>
    static Connection getConnection(String url,String username,String password)<br>
指定数据的URL用户名和密码创建数据库连接对象。url的语法格式是：<br>
    <span style="color:#b22222;">jdbc:&lt;数据库的连接机制&gt;:&lt;ODBC数据库名&gt;</span>。
<h2>
Connection类</h2>
Connection类是java.sql包中用于处理与特定数据库连接的类。Connection对象是用来表示数据库连接的对象，Java程序对数据库的操作都在这种对象上进行。Connection类的主要方法有：
<ol>
<li>
Statement createStatement()：创建一个Statement对象。</li>
<li>
Statement createStatement(int resultSetType,int resultSetConcurrency)：创建一个Statement对象，生成具有特定类型的结果集。</li>
<li>
void commit()：提交对数据库的改动并释放当前持有的数据库的锁。</li>
<li>
void rollback()：回滚当前事务中的所有改动并释放当前连接持有的数据库的锁。</li>
<li>
String getCatalog()：获得连接对象的当前目录。</li>
<li>
boolean isClose()：判断连接是否已关闭。</li>
<li>
boolean isReadOnly()：判断连接是否为只读模式。</li>
<li>
void setReadOnly()：设置连接为只读模式。</li>
<li>
void close()：释放连接对象的数据库和JDBC资源。</li>
</ol>
<h2>
Statement类</h2>
<span style="color:#b22222;">Statement类是java.sql包中用于在指定的连接中处理SQL语句的类。</span>数据库编程的要点是在程序中嵌入SQL命令。程序需要声明和创建连接数据库的Connection对象，并让该对象连接数据库。调用类DriverManager的静态方法getConnection()获得Connection对象，实现程序与数据库的连。然后，用Statement类声明SQL语句对象，并调用Connection对象的createStatement()方法，创建SQL语句对象。例如，以下代码创建语句对象sql：<br>
    Statement sql = null;<br>
    try{<br>
        sql = con.createStatement();<br>
    }catch(SQLException e){}
<h2>
ResultSet类</h2>
有了SQL语句对象后，调用语句对象的方法executeQuery()执行SQL查询，并将查询结果存放在一个用ResultSet类声明的对象中，例如，以下代码读取学生成绩表存于rs 对象中：<br>
    ResultSet rs = sql.executeQuery(“SELECT * FROM ksInfo”);<br>
ResultSet对象实际上是一个由查询结果数据的表，是一个管式数据集，由统一形式的数据行组成，一行对应一条查询记录。在ResultSet对象中隐含着一个游标，一次只能获得游标当前所指的数据行，用next方法可取下一个数据行。用数据行的字段(列)名称或位置索引(自1开始)调用形如getXXX()方法获得记录的字段植 。以下是ResultSet对象的部分方法：
<ol>
<li>
byte getByte(int columnIndex)：返回指定字段的字节值。</li>
<li>
Date getDate(int columnIndex)：返回指定字段的日期值。</li>
<li>
float getFloat(int columnIndex)：返回指定字段的浮点值。</li>
<li>
int getInt(int columnIndex)：返回指定字段的整数值。</li>
<li>
String getString(int columnIndex)：返回指定字段的字符串值。</li>
<li>
double getDouble(String columnName)：返回指定字段的双精度值。</li>
<li>
long getLong(String columnName)：返回指定字段的long型整值。</li>
<li>
boolean next()：返回是否还有下一字段。</li>
</ol>
以上方法中的columnIndex是位置索引，用于指定字段，columnName是字段名。<br>
<br>
用户需要在查询结果集上浏览，或前后移动、或显示结果集的指定记录，这称为可滚动结果集。程序要获得一个可滚动结果集，只要在获得SQL的语句对象时，增加指定结果集的两个参数即可。例如，以下代码：<br>
    Statement stmt = con.createStatement(type,concurrency);<br>
    ResultSet rs = stmt.executeQuery(SQL语句)<br>
语句对象stmt的SQL查询就能得到相应类型的结果集。
<ul>
<li>
int 型参数type决定可滚动集的滚动方式：
<ul>
<li>
ResultSet.TYPE_FORWORD_ONLY,结果集的游标只能向下滚动。</li>
<li>
ResultSet.TYPE_SCROLL_INSENSITIVE,游标可上下移动，当数据库变化时，当前结果集不变。</li>
<li>
ResultSet. TYPE_SCROLL_SENSITIVE，游标可上下移动，当数据库变化时，当前结果集同步改变。</li>
</ul>
</li>
<li>
int 型参数concurrency决定数据库是否与可滚动集同步更新：
<ul>
<li>
ResultSet.CONCUR_READ_ONLY,不能用结果集更新数据库中的表。</li>
<li>
ResultSet.CONCUR_UPDATETABLE,能用结果集更新数据库中的表。</li>
</ul>
</li>
</ul>
<br>
例如，以下代码利用连接对象connect，创建Statement对象stmt，指定结果集可滚动，并以只读方式读数据库：<br>
    stmt = connect.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,<br>
    ResultSet.CONCUR_READ_ONLY);<br>
可滚动集上另外一些常用的方法如下：
<ol>
<li>
boolean previous()：将游标向上移动，当移到结果集的第一行时，返回false。</li>
<li>
void beforeFirst()：将游标移结果集的第一行之前。</li>
<li>
void afterLast()：将游标移到结果集的最后一行之后。</li>
<li>
void first()：将游标移到第一行。</li>
<li>
void last()：将游标移到最后一行。</li>
<li>
boolean isAfterLast()：判游标是否在最后一行之后。</li>
<li>
boolean isBeforeFirst()：判游标是否在第一行之前。</li>
<li>
boolean isLast()：判游标是否在最后一行。</li>
<li>
boolean isFirst()：判游标是否在第一行。</li>
<li>
int getRow()：获取当前所指的行(行号自1开始编号，结果集空，返回0)。</li>
<li>
boolean absolute(int row)：将游标移到row行。</li>
</ol>
</div>

http://www.weixueyuan.net/view/6082.html
<h1>Java数据库查询简介</h1>
<div id="art-body">利用Connection对象的createStatement方法建立Statement对象，利用Statement对象的executeQuery()方法执行SQL查询语句进行查询，返回结果集，再形如getXXX()的方法从结果集中读取数据。经过这样的一系列步骤就能实现对数据库的查询。<br>
<br>
【例 13-9】Java应用程序访问数据库。应用程序打开考生信息表ksInfo，从中取出考生的各项信息。设考生信息数据库的结构如下：<br>
<table>
<tbody>
<tr>
<td>
类型</td>
<td>
字符串</td>
<td>
字符串</td>
<td>
整数</td>
<td>
字符串</td>
<td>
字符串</td>
</tr>
<tr>
<td>
字段名</td>
<td>
考号</td>
<td>
姓名</td>
<td>
成绩</td>
<td>
地址</td>
<td>
简历</td>
</tr>
</tbody>
</table>
import java.awt.*;<br>
import java.awt.event.*;<br>
import javax.swing.*;<br>
import java.util.*;<br>
import java.sql.*;<br>
public class Example10_9 extends JFrame implements ActionListener{<br>
    public static Connection connectByJdbcodbc(String url, String username,String password){<br>
        Connection con = null;<br>
        try{<br>
            Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");  //加载ODBC驱动程序<br>
        }<br>
        catch (Exception e){<br>
            e.printStackTrace();<br>
            return null; //加载失败，连接不成功<br>
        }<br>
        try{<br>
            con = DriverManager.getConnection(url, username, password);<br>
        }<br>
        catch (SQLException e){<br>
            e.printStackTrace();<br>
            return null; //连接失败<br>
        }<br>
        return con; //连接成功<br>
    }<br>
    String title[] ={"考号", "姓名", "成绩", "地址", "简历"};<br>
    JTextField txtNo = new JTextField(8);<br>
    JTextField txtName = new JTextField(10);<br>
    JTextField txtScore = new JTextField(3);<br>
    JTextField txtAddr = new JTextField(30);<br>
    JTextArea txtresume = new JTextArea();<br>
    JButton prev = new JButton("前一个");<br>
    JButton next = new JButton("后一个");<br>
    JButton first = new JButton("第一个");<br>
    JButton last = new JButton("最后一个");<br>
    Statement sql; //SQL语句对象<br>
    ResultSet rs; //存放查询结果对象<br>
    Example10_9(Connection connect){<br>
        super("考生信息查看窗口");<br>
        setSize(450, 350);<br>
        try{<br>
            sql = connect.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_READ_ONLY);<br>
            rs = sql.executeQuery("SELECT * FROM ksInfo");<br>
            Container con = getContentPane();<br>
            con.setLayout(new BorderLayout(0, 6); JPanel p[] = new JPanel[4];<br>
            for (int i = 0; i &lt; 4; i++){<br>
                p[i] = new JPane(new FlowLayout(FlowLayout.LEFT, 8, 0));<br>
                p[i].add(new JLabel(title[i]));<br>
            }<br>
            p[0].add(txtNo);<br>
            p[1].add(txtName);<br>
            p[2].add(txtScore);<br>
            p[3].add(txtAddr);<br>
            JPanel p1 = new JPane(new GridLayout94, 1, 0, 8));<br>
            JScrollPane jsp = new JScrollPane(txtResume,<br>
                JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,<br>
                JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);<br>
                jsp.setPreforredSize(new Dimension(300, 60);<br>
            for (int i = 0; i &lt; 4; i++){<br>
                p1.add(p[i]);<br>
            }<br>
            JPanel p2 = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 0);<br>
            p2.add(new JLabel(title[4]));<br>
            p2.add(jsp);<br>
            Jpanel p3 = new Jpanel();<br>
            p3.add(prev);<br>
            p3.add(next);<br>
            p3.add(first);<br>
            p3.add(last);<br>
            prev.addActionListener(this);<br>
            next.addActionListener(this);<br>
            first.addActionListener(this);<br>
            last.addActionlistener(this);<br>
            rs.first();<br>
            readRecord();<br>
        }<br>
        catch (Exception e){<br>
            e.printStackTrace():<br>
        }<br>
        setVisible(ture);<br>
    }<br>
    public void modifyRecord(Connection connect){<br>
        String stuNo = (String)JOptionPane.showInputDialog(null,<br>
            "请输入考生考号", "输入考号对话框", JOptionPane.PLAIN_MESSAGE, null,<br>
            null, "");<br>
        try {<br>
            sql = connect.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_READ_ONLY);<br>
            rs = sql.executeQuery("SELECT * FROM ksInfo");<br>
            Container con = getContentPane();<br>
            con.setLayout(new Boarderlayout(0, 6));<br>
            Jpanel p[] = new JPanel[4];<br>
            for (int i = 0; i &lt; ; i++){<br>
                p[i] = new JPane(new FlowLayout(flowLayout.LEFT, 8, 0));<br>
                p[i].add(new JLabel(title[i]));<br>
            }<br>
            p[0].add(txtNo);<br>
            p[1].add(txtName);<br>
            p[2].add(txtScore);<br>
            p[3].add(txtAddr);<br>
            Jpanel p1 = new Jpane(new GridLayout(4, 1, 0, 8));<br>
            JScrollPane jsp = new JScrollPane(txtResume,<br>
                JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,<br>
                JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);<br>
            jsp.setPreferredSize (new dimension(300, 60));<br>
            for (int i = 0; i &lt; 4; i++){<br>
                p1.add(p[i]);<br>
            }<br>
            Jpanel p2 = new JPanel(new FlowLayout(FlowLayout.LEFT, 10, 0));<br>
            p2.add(new JLableI(title[4]));<br>
            p2.add(jsp);<br>
            JPanel p3 = new JPanel();<br>
            p3.add(prev);<br>
            p3.add(next);<br>
            p3.add(first);<br>
            p3.add(last);<br>
            prev.addActionListener(this);<br>
            next.addActionListener(this);<br>
            first.addActionListenerIthis);<br>
            last.addActionListener(this);<br>
            rs.first();<br>
            readRecord();<br>
        }<br>
        catch (Exception e){<br>
            e.printStackTrace();<br>
        }<br>
        setVisible(true);<br>
    }<br>
    boolean readRecord(){<br>
        try{<br>
            txtNo.setText(rs.getString("考号")); txtName.setText(rs.getString("姓名")); txtScore.setText(rs.getString("成绩"));<br>
            txtAddr.setText(rs.getString("地址")); txtResume.setText(rs.getString("简历"));<br>
        }<br>
        catch (SQLException e){<br>
            e.printStackTrace(); return false;<br>
        }<br>
        return true;<br>
    }<br>
    public void actionPerformed(ActionEvent e){<br>
        try{<br>
            if (e.getSource() == prev)rs.previous();<br>
            else if (e.getSource() == next)rs.next();<br>
            else if (e.getSource() == first)rs.first();<br>
            else if (e.getSource() == last)rs.last(); readRecord();<br>
        }<br>
        catch (Exception e2){}<br>
    }<br>
    public static void main(String args[]){<br>
        connection connect = null;<br>
        JFrame .setDefaultLookAndFeeDecorated(true);<br>
        Font font = new Font("JFrame", Font.PLAIN, 14);<br>
        if ((connect =connectByJdbcOdbc("jdbc:odbc:redsun", "xia", "1234")) == null){<br>
            JOptionPane.showMessageDialog(null, "数据库连接失败!");<br>
            System.exit ( - 1);<br>
        }<br>
        new Example10_9(connect); //创建对象<br>
    }<br>
}</div>

http://www.weixueyuan.net/view/6083.html
<h1>Java数据库更新</h1>
<div id="art-body">数据库更新操作包括数据表创建、删除、以及数据表记录的增加、删除、修改等操作。如果利用数据 SQL命令实现，则利用Statement对旬的executeUpdate()方法，执行SQL的update语句，实现数据表的修改；执行SQL的insert语句，实现数据表记录的添加。<br>
<br>
例如，在前面数据为查询例子基础上，再增加对数据表的修改和插入。限于篇幅，不再给出完整程序，只给出实现修改和插入的方法。程序可再增设插入、，，除保存按钮，通过已有的浏览，定位到数据表的特定位置，对痈疽记录进行编辑修改，或插入，或删除，然后按保存按钮，完成修改后的数据表保存。<br>
<br>
下面用代码说明数据表更新的方法。与数据表连接时，需指定获得的ResultSet 对象是可更新的。<br>
    stmt = connect.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);</div>

http://www.weixueyuan.net/view/6084.html
<h1>Java数据库之插入记录</h1>
<div id="art-body">插入数据表记录有3种方案
<h2>
一.使用Statement对象</h2>
实现插入数据表记录的SQL语句的语法是：<br>
    insert into 表名(字段名1，字段名2,……)value (字段值1，字段值2，……)<br>
例如：<br>
    insert into ksInfo(考号，姓名，成绩，地址，简历)value(‘200701’,’张大卫’534，’上海欧阳路218弄4-1202’,’’)<br>
实现同样功能的Java程序代码是：<br>
    sql = “insert intoksIno(考号，姓名，成绩，地址，简历)”;<br>
    sql= = sq1+ “value(‘”+txtNo.getTxt()+’,’”+txtName.getText(0”’,”;<br>
    sql = sql+txtScore.getText();<br>
    sql=sql+”,’”+txtAddr.getText()+”’,’”+txtResume.getText()+”’)”;<br>
    stmt.executeUpdate(sql);
<h2>
二.使用ResultSet对象</h2>
使用ResultSet对象的方法moveToInsertRow()将数据表游标移到插入位置，输入数据后，用方法insertRow()插入记录。例如，以下示意代码：<br>
    String sql= “select * from ksInfo”;//生成SQL语句<br>
    ResultSet rs = stmt.executeQuery(sql);//获取数据表结果集<br>
    rs.moveToInsertRow();//将数据表游标移到插入记录位置<br>
    rs.updateString(1,’200701’);//向考号字段填入数据<br>
    rs.updateString(2,’张大卫’);//向名字字段填入数据<br>
    rs.updateInt(3,534);//向成绩字段填入数据<br>
    rs.updateString(4,’上海欧阳路218弄4-1202’);//向地址字段填入数据<br>
    rs.updateString(5,’’);//向简历字段填入数据<br>
    try{rs.insertRow();}catch(Exception e){};//完成插入
<h2>
三.使用PrepareStatement对象</h2>
与使用Statement对象的方法类似，只是创建SQL语句时暂时用参数？表示值，然后由SQL语句对象生成PrepareStatement对象，插入时通过设定实际参数，实现记录的更新。示意代码如下：<br>
    sql = “insert into ksInfo(考号，姓名，成绩，地址，简历)value (?,?,?,?,’’)”;<br>
    PrepareStatement pStmt = connect.prepareStatement(sql);<br>
    pStmt.setString(1,’200701’);//向考号字段填入数据<br>
    pStmt. setString (2,’张大卫’);//向名字字段填入数据<br>
    pStmt.setInt(3,534);//向成绩字段填入数据<br>
    pStmt. setString (4,’上海欧阳路218弄4-1202’);//向地址字段填入数据<br>
    pStmt. setString (5,’’);//向简历字段填入数据<br>
    pStmt.executeUpdate();</div>

http://www.weixueyuan.net/view/6085.html
<h1>Java数据库之修改记录</h1>
<div id="art-body">修改数据表记录也有3种方案。
<h2>
一.使用Statement对象</h2>
实现修改数据表记录的SQL语句的语法是：<br>
    update表名 set 字段名1 = 字段值1，字段名2 = 字段值2，……where特定条件<br>
例如：<br>
    update ksInfo set 姓名 = ‘张小卫’where 姓名 = ‘张大卫’<br>
先创建一个SQL语句，然砶调用Statement对象的executeUpdate()方法。例如，<br>
    sql = “update ksInfo set 姓名 = ‘”+txtName.getText();<br>
    sql = sql + “,成绩=”+txtScore.getText();<br>
    sql = sql +”,地址=’”+txtAddr.getText();<br>
    sql= sql+”’,,简历=’”+txtResume.getText()+”’where 考号=”+txtNo.getText();<br>
    stmt.executeUpdate(sql);
<h2>
二.使用ResultSet对象</h2>
先建立ResultSet对象，然后直接设定记录的字段值，修改数据表的记录。例如，<br>
    String sql = “select * from ksInfo where 姓名=’张大卫’”;//生成SQL语句<br>
    ResultSet rs = stmt.executeQuery(sql);//获取数据表结果集<br>
    if(rs.next()){<br>
        rs.updateString(2,’张小卫’);<br>
        try{rs.updateRow();}catch(Exception e){}<br>
    }
<h2>
三.使用PrepareStatement对象</h2>
创建SQL语句时，暂时用参数？表示值，然后由SQL语句对象生成PrepareStatement对象，接着通过设定实际参数实现记录的更新。示意代码：<br>
    sql = “update ksInfo set 姓名=? where 姓名 = ‘张大卫’;<br>
    PrepareStatement pStmt = connect.prepareStatement(sql);<br>
    pStmt.setString(2,’张小卫’);//向名字字段填入数据<br>
    pStmt.executeUpdate();</div>

http://www.weixueyuan.net/view/6086.html
<h1>Java数据库之删除记录</h1>
<div id="art-body">删除数据表也有3种方案
<h2>
一.使用Statement对象</h2>
删除数据表记录的SQL语句的语法是：<br>
    delete from 表名 where 特定条件<br>
例如 ：<br>
    delete from ksInfo where 姓名 = ‘张大卫’<br>
先创建一个SQL语句，然后调用Statement对象的executeUpdate()方法：<br>
    stmt.executeUpdate(sql);
<h2>
二.使用ResultSet对象</h2>
先创建一个SQL语句，然后调用Statement对象的executeUpdate()方法。例如：<br>
    String sql = “select * from ksInfo where 姓名 = ‘张大卫’”;//生成SQL语句<br>
    ResultSet rs = stmt.executeQuery(sql);//获取数据表结果集<br>
    if(rs.next()){<br>
        rs.deleteRow();try{ rs.updateRow();}catch(Exception e){}<br>
    }
<h2>
三.使用PrepareStatement对象</h2>
创建SQL语句时，暂时用参数？表示值，然后由SQL语句对象生成PrepareStatement对象，接着设定实际参数实现特定记录的删除。例如，以下示意代码：<br>
    sql = “delete form ksInfo where 姓名=?”;<br>
    PrepareStatement pStmt = connect.prepareStatement(sql);<br>
    pStmt.setString(2,’张大卫’);//给名字字段指定数据<br>
    pStmt.executeUpdate();</div>

http://www.weixueyuan.net/view/6087.html